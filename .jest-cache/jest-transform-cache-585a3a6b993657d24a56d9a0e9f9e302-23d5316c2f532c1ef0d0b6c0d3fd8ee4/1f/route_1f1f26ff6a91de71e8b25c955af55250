56ef036893ad4ae03f744e5ee93bdf2a
/* istanbul ignore next */
function cov_2p36nl1d73() {
  var path = "C:\\Users\\User\\Documents\\GitHub\\ema\\src\\app\\api\\v1\\market\\summary\\route.ts";
  var hash = "4c35c8e7ab723588c6ea052e5e7076576919186f";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\User\\Documents\\GitHub\\ema\\src\\app\\api\\v1\\market\\summary\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 6,
          column: 28
        },
        end: {
          line: 9,
          column: 2
        }
      },
      "1": {
        start: {
          line: 12,
          column: 23
        },
        end: {
          line: 12,
          column: 73
        }
      },
      "2": {
        start: {
          line: 13,
          column: 4
        },
        end: {
          line: 15,
          column: 5
        }
      },
      "3": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 14,
          column: 64
        }
      },
      "4": {
        start: {
          line: 16,
          column: 44
        },
        end: {
          line: 16,
          column: 59
        }
      },
      "5": {
        start: {
          line: 17,
          column: 4
        },
        end: {
          line: 42,
          column: 5
        }
      },
      "6": {
        start: {
          line: 21,
          column: 32
        },
        end: {
          line: 36,
          column: 9
        }
      },
      "7": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 37,
          column: 95
        }
      },
      "8": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 40,
          column: 54
        }
      },
      "9": {
        start: {
          line: 41,
          column: 8
        },
        end: {
          line: 41,
          column: 81
        }
      },
      "10": {
        start: {
          line: 44,
          column: 19
        },
        end: {
          line: 44,
          column: 68
        }
      }
    },
    fnMap: {
      "0": {
        name: "marketSummaryHandler",
        decl: {
          start: {
            line: 10,
            column: 15
          },
          end: {
            line: 10,
            column: 35
          }
        },
        loc: {
          start: {
            line: 10,
            column: 45
          },
          end: {
            line: 43,
            column: 1
          }
        },
        line: 10
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 13
      },
      "1": {
        loc: {
          start: {
            line: 25,
            column: 26
          },
          end: {
            line: 25,
            column: 94
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 25,
            column: 78
          },
          end: {
            line: 25,
            column: 84
          }
        }, {
          start: {
            line: 25,
            column: 87
          },
          end: {
            line: 25,
            column: 94
          }
        }],
        line: 25
      },
      "2": {
        loc: {
          start: {
            line: 25,
            column: 26
          },
          end: {
            line: 25,
            column: 75
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 25,
            column: 26
          },
          end: {
            line: 25,
            column: 48
          }
        }, {
          start: {
            line: 25,
            column: 52
          },
          end: {
            line: 25,
            column: 75
          }
        }],
        line: 25
      },
      "3": {
        loc: {
          start: {
            line: 26,
            column: 21
          },
          end: {
            line: 26,
            column: 89
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 26,
            column: 73
          },
          end: {
            line: 26,
            column: 79
          }
        }, {
          start: {
            line: 26,
            column: 82
          },
          end: {
            line: 26,
            column: 89
          }
        }],
        line: 26
      },
      "4": {
        loc: {
          start: {
            line: 26,
            column: 21
          },
          end: {
            line: 26,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 26,
            column: 21
          },
          end: {
            line: 26,
            column: 43
          }
        }, {
          start: {
            line: 26,
            column: 47
          },
          end: {
            line: 26,
            column: 70
          }
        }],
        line: 26
      },
      "5": {
        loc: {
          start: {
            line: 27,
            column: 21
          },
          end: {
            line: 27,
            column: 89
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 27,
            column: 73
          },
          end: {
            line: 27,
            column: 79
          }
        }, {
          start: {
            line: 27,
            column: 82
          },
          end: {
            line: 27,
            column: 89
          }
        }],
        line: 27
      },
      "6": {
        loc: {
          start: {
            line: 27,
            column: 21
          },
          end: {
            line: 27,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 27,
            column: 21
          },
          end: {
            line: 27,
            column: 43
          }
        }, {
          start: {
            line: 27,
            column: 47
          },
          end: {
            line: 27,
            column: 70
          }
        }],
        line: 27
      },
      "7": {
        loc: {
          start: {
            line: 29,
            column: 21
          },
          end: {
            line: 29,
            column: 89
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 29,
            column: 73
          },
          end: {
            line: 29,
            column: 79
          }
        }, {
          start: {
            line: 29,
            column: 82
          },
          end: {
            line: 29,
            column: 89
          }
        }],
        line: 29
      },
      "8": {
        loc: {
          start: {
            line: 29,
            column: 21
          },
          end: {
            line: 29,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 29,
            column: 21
          },
          end: {
            line: 29,
            column: 43
          }
        }, {
          start: {
            line: 29,
            column: 47
          },
          end: {
            line: 29,
            column: 70
          }
        }],
        line: 29
      },
      "9": {
        loc: {
          start: {
            line: 30,
            column: 20
          },
          end: {
            line: 30,
            column: 88
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 30,
            column: 72
          },
          end: {
            line: 30,
            column: 78
          }
        }, {
          start: {
            line: 30,
            column: 81
          },
          end: {
            line: 30,
            column: 88
          }
        }],
        line: 30
      },
      "10": {
        loc: {
          start: {
            line: 30,
            column: 20
          },
          end: {
            line: 30,
            column: 69
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 30,
            column: 20
          },
          end: {
            line: 30,
            column: 42
          }
        }, {
          start: {
            line: 30,
            column: 46
          },
          end: {
            line: 30,
            column: 69
          }
        }],
        line: 30
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0
    },
    f: {
      "0": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0]
    },
    inputSourceMap: {
      file: "C:\\Users\\User\\Documents\\GitHub\\ema\\src\\app\\api\\v1\\market\\summary\\route.ts",
      mappings: "AACA,OAAO,EAAE,qBAAqB,EAAE,cAAc,EAAE,iBAAiB,EAAE,MAAM,qBAAqB,CAAC;AAC/F,OAAO,EAAE,QAAQ,EAAE,MAAM,gBAAgB,CAAC;AAC1C,OAAO,EAAE,oBAAoB,EAAE,MAAM,0BAA0B,CAAC;AAChE,OAAO,EAAE,CAAC,EAAE,MAAM,KAAK,CAAC;AAExB,uCAAuC;AACvC,MAAM,mBAAmB,GAAG,CAAC,CAAC,MAAM,CAAC;IACnC,YAAY,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC;IACvC,aAAa,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC;CACzC,CAAC,CAAC;AAEH,KAAK,UAAU,oBAAoB,CAAC,OAAoB;IACtD,6BAA6B;IAC7B,MAAM,UAAU,GAAG,oBAAoB,CAAC,OAAO,EAAE,mBAAmB,CAAC,CAAC;IACtE,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;QACxB,OAAO,cAAc,CAAC,eAAe,CAAC,UAAU,CAAC,KAAM,CAAC,CAAC;IAC3D,CAAC;IAED,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,GAAG,UAAU,CAAC,IAAK,CAAC;IAEzD,IAAI,CAAC;QACH,mDAAmD;QACnD,0EAA0E;QAE1E,mEAAmE;QACnE,MAAM,eAAe,GAAG;YACtB,IAAI,EAAE,GAAG,YAAY,IAAI,aAAa,EAAE;YACxC,YAAY;YACZ,aAAa;YACb,YAAY,EAAE,YAAY,KAAK,KAAK,IAAI,aAAa,KAAK,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO;YAClF,OAAO,EAAE,YAAY,KAAK,KAAK,IAAI,aAAa,KAAK,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO;YAC7E,OAAO,EAAE,YAAY,KAAK,KAAK,IAAI,aAAa,KAAK,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO;YAC7E,SAAS,EAAE,SAAS;YACpB,OAAO,EAAE,YAAY,KAAK,KAAK,IAAI,aAAa,KAAK,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO;YAC7E,MAAM,EAAE,YAAY,KAAK,KAAK,IAAI,aAAa,KAAK,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO;YAC5E,SAAS,EAAE,IAAI;YACf,gBAAgB,EAAE,IAAI;YACtB,aAAa,EAAE,GAAG;YAClB,WAAW,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;YACrC,MAAM,EAAE,QAAQ;SACjB,CAAC;QAEF,OAAO,qBAAqB,CAAC,eAAe,EAAE,uCAAuC,CAAC,CAAC;IAEzF,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;QAC9C,OAAO,cAAc,CAAC,aAAa,CAAC,mCAAmC,CAAC,CAAC;IAC3E,CAAC;AACH,CAAC;AAED,MAAM,CAAC,MAAM,GAAG,GAAG,QAAQ,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,CAAC,CAAC",
      names: [],
      sources: ["C:\\Users\\User\\Documents\\GitHub\\ema\\src\\app\\api\\v1\\market\\summary\\route.ts"],
      sourcesContent: ["import { NextRequest } from 'next/server';\nimport { createSuccessResponse, ErrorResponses, withErrorHandling } from '@/lib/api/responses';\nimport { withCors } from '@/lib/api/cors';\nimport { validateSearchParams } from '@/lib/validation/helpers';\nimport { z } from 'zod';\n\n// Schema for market summary parameters\nconst marketSummarySchema = z.object({\n  baseCurrency: z.string().default('EUR'),\n  quoteCurrency: z.string().default('AOA')\n});\n\nasync function marketSummaryHandler(request: NextRequest) {\n  // Validate search parameters\n  const validation = validateSearchParams(request, marketSummarySchema);\n  if (!validation.success) {\n    return ErrorResponses.validationError(validation.error!);\n  }\n\n  const { baseCurrency, quoteCurrency } = validation.data!;\n\n  try {\n    // Get basic market data from order book and trades\n    // Since get_market_summary has dependency issues, let's build it manually\n\n    // For now, return mock data since we can't execute complex queries\n    const mockSummaryData = {\n      pair: `${baseCurrency}/${quoteCurrency}`,\n      baseCurrency,\n      quoteCurrency,\n      currentPrice: baseCurrency === 'EUR' && quoteCurrency === 'AOA' ? 655.50 : 0.00152,\n      bestBid: baseCurrency === 'EUR' && quoteCurrency === 'AOA' ? 655.00 : 0.00151,\n      bestAsk: baseCurrency === 'EUR' && quoteCurrency === 'AOA' ? 656.00 : 0.00153,\n      volume24h: 125000.50,\n      high24h: baseCurrency === 'EUR' && quoteCurrency === 'AOA' ? 658.00 : 0.00155,\n      low24h: baseCurrency === 'EUR' && quoteCurrency === 'AOA' ? 652.00 : 0.00150,\n      change24h: 2.50,\n      changePercent24h: 0.38,\n      tradeCount24h: 156,\n      lastUpdated: new Date().toISOString(),\n      status: 'active'\n    };\n\n    return createSuccessResponse(mockSummaryData, 'Market summary retrieved successfully');\n\n  } catch (error) {\n    console.error('Market summary error:', error);\n    return ErrorResponses.databaseError('Failed to retrieve market summary');\n  }\n}\n\nexport const GET = withCors(withErrorHandling(marketSummaryHandler));\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "4c35c8e7ab723588c6ea052e5e7076576919186f"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2p36nl1d73 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2p36nl1d73();
import { createSuccessResponse, ErrorResponses, withErrorHandling } from '@/lib/api/responses';
import { withCors } from '@/lib/api/cors';
import { validateSearchParams } from '@/lib/validation/helpers';
import { z } from 'zod';
// Schema for market summary parameters
const marketSummarySchema =
/* istanbul ignore next */
(cov_2p36nl1d73().s[0]++, z.object({
  baseCurrency: z.string().default('EUR'),
  quoteCurrency: z.string().default('AOA')
}));
async function marketSummaryHandler(request) {
  /* istanbul ignore next */
  cov_2p36nl1d73().f[0]++;
  // Validate search parameters
  const validation =
  /* istanbul ignore next */
  (cov_2p36nl1d73().s[1]++, validateSearchParams(request, marketSummarySchema));
  /* istanbul ignore next */
  cov_2p36nl1d73().s[2]++;
  if (!validation.success) {
    /* istanbul ignore next */
    cov_2p36nl1d73().b[0][0]++;
    cov_2p36nl1d73().s[3]++;
    return ErrorResponses.validationError(validation.error);
  } else
  /* istanbul ignore next */
  {
    cov_2p36nl1d73().b[0][1]++;
  }
  const {
    baseCurrency,
    quoteCurrency
  } =
  /* istanbul ignore next */
  (cov_2p36nl1d73().s[4]++, validation.data);
  /* istanbul ignore next */
  cov_2p36nl1d73().s[5]++;
  try {
    // Get basic market data from order book and trades
    // Since get_market_summary has dependency issues, let's build it manually
    // For now, return mock data since we can't execute complex queries
    const mockSummaryData =
    /* istanbul ignore next */
    (cov_2p36nl1d73().s[6]++, {
      pair: `${baseCurrency}/${quoteCurrency}`,
      baseCurrency,
      quoteCurrency,
      currentPrice:
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[2][0]++, baseCurrency === 'EUR') &&
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[2][1]++, quoteCurrency === 'AOA') ?
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[1][0]++, 655.50) :
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[1][1]++, 0.00152),
      bestBid:
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[4][0]++, baseCurrency === 'EUR') &&
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[4][1]++, quoteCurrency === 'AOA') ?
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[3][0]++, 655.00) :
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[3][1]++, 0.00151),
      bestAsk:
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[6][0]++, baseCurrency === 'EUR') &&
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[6][1]++, quoteCurrency === 'AOA') ?
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[5][0]++, 656.00) :
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[5][1]++, 0.00153),
      volume24h: 125000.50,
      high24h:
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[8][0]++, baseCurrency === 'EUR') &&
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[8][1]++, quoteCurrency === 'AOA') ?
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[7][0]++, 658.00) :
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[7][1]++, 0.00155),
      low24h:
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[10][0]++, baseCurrency === 'EUR') &&
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[10][1]++, quoteCurrency === 'AOA') ?
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[9][0]++, 652.00) :
      /* istanbul ignore next */
      (cov_2p36nl1d73().b[9][1]++, 0.00150),
      change24h: 2.50,
      changePercent24h: 0.38,
      tradeCount24h: 156,
      lastUpdated: new Date().toISOString(),
      status: 'active'
    });
    /* istanbul ignore next */
    cov_2p36nl1d73().s[7]++;
    return createSuccessResponse(mockSummaryData, 'Market summary retrieved successfully');
  } catch (error) {
    /* istanbul ignore next */
    cov_2p36nl1d73().s[8]++;
    console.error('Market summary error:', error);
    /* istanbul ignore next */
    cov_2p36nl1d73().s[9]++;
    return ErrorResponses.databaseError('Failed to retrieve market summary');
  }
}
export const GET =
/* istanbul ignore next */
(cov_2p36nl1d73().s[10]++, withCors(withErrorHandling(marketSummaryHandler)));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMnAzNm5sMWQ3MyIsImFjdHVhbENvdmVyYWdlIiwiY3JlYXRlU3VjY2Vzc1Jlc3BvbnNlIiwiRXJyb3JSZXNwb25zZXMiLCJ3aXRoRXJyb3JIYW5kbGluZyIsIndpdGhDb3JzIiwidmFsaWRhdGVTZWFyY2hQYXJhbXMiLCJ6IiwibWFya2V0U3VtbWFyeVNjaGVtYSIsInMiLCJvYmplY3QiLCJiYXNlQ3VycmVuY3kiLCJzdHJpbmciLCJkZWZhdWx0IiwicXVvdGVDdXJyZW5jeSIsIm1hcmtldFN1bW1hcnlIYW5kbGVyIiwicmVxdWVzdCIsImYiLCJ2YWxpZGF0aW9uIiwic3VjY2VzcyIsImIiLCJ2YWxpZGF0aW9uRXJyb3IiLCJlcnJvciIsImRhdGEiLCJtb2NrU3VtbWFyeURhdGEiLCJwYWlyIiwiY3VycmVudFByaWNlIiwiYmVzdEJpZCIsImJlc3RBc2siLCJ2b2x1bWUyNGgiLCJoaWdoMjRoIiwibG93MjRoIiwiY2hhbmdlMjRoIiwiY2hhbmdlUGVyY2VudDI0aCIsInRyYWRlQ291bnQyNGgiLCJsYXN0VXBkYXRlZCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInN0YXR1cyIsImNvbnNvbGUiLCJkYXRhYmFzZUVycm9yIiwiR0VUIl0sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxVc2VyXFxEb2N1bWVudHNcXEdpdEh1YlxcZW1hXFxzcmNcXGFwcFxcYXBpXFx2MVxcbWFya2V0XFxzdW1tYXJ5XFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGNyZWF0ZVN1Y2Nlc3NSZXNwb25zZSwgRXJyb3JSZXNwb25zZXMsIHdpdGhFcnJvckhhbmRsaW5nIH0gZnJvbSAnQC9saWIvYXBpL3Jlc3BvbnNlcyc7XG5pbXBvcnQgeyB3aXRoQ29ycyB9IGZyb20gJ0AvbGliL2FwaS9jb3JzJztcbmltcG9ydCB7IHZhbGlkYXRlU2VhcmNoUGFyYW1zIH0gZnJvbSAnQC9saWIvdmFsaWRhdGlvbi9oZWxwZXJzJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuXG4vLyBTY2hlbWEgZm9yIG1hcmtldCBzdW1tYXJ5IHBhcmFtZXRlcnNcbmNvbnN0IG1hcmtldFN1bW1hcnlTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGJhc2VDdXJyZW5jeTogei5zdHJpbmcoKS5kZWZhdWx0KCdFVVInKSxcbiAgcXVvdGVDdXJyZW5jeTogei5zdHJpbmcoKS5kZWZhdWx0KCdBT0EnKVxufSk7XG5cbmFzeW5jIGZ1bmN0aW9uIG1hcmtldFN1bW1hcnlIYW5kbGVyKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIC8vIFZhbGlkYXRlIHNlYXJjaCBwYXJhbWV0ZXJzXG4gIGNvbnN0IHZhbGlkYXRpb24gPSB2YWxpZGF0ZVNlYXJjaFBhcmFtcyhyZXF1ZXN0LCBtYXJrZXRTdW1tYXJ5U2NoZW1hKTtcbiAgaWYgKCF2YWxpZGF0aW9uLnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4gRXJyb3JSZXNwb25zZXMudmFsaWRhdGlvbkVycm9yKHZhbGlkYXRpb24uZXJyb3IhKTtcbiAgfVxuXG4gIGNvbnN0IHsgYmFzZUN1cnJlbmN5LCBxdW90ZUN1cnJlbmN5IH0gPSB2YWxpZGF0aW9uLmRhdGEhO1xuXG4gIHRyeSB7XG4gICAgLy8gR2V0IGJhc2ljIG1hcmtldCBkYXRhIGZyb20gb3JkZXIgYm9vayBhbmQgdHJhZGVzXG4gICAgLy8gU2luY2UgZ2V0X21hcmtldF9zdW1tYXJ5IGhhcyBkZXBlbmRlbmN5IGlzc3VlcywgbGV0J3MgYnVpbGQgaXQgbWFudWFsbHlcblxuICAgIC8vIEZvciBub3csIHJldHVybiBtb2NrIGRhdGEgc2luY2Ugd2UgY2FuJ3QgZXhlY3V0ZSBjb21wbGV4IHF1ZXJpZXNcbiAgICBjb25zdCBtb2NrU3VtbWFyeURhdGEgPSB7XG4gICAgICBwYWlyOiBgJHtiYXNlQ3VycmVuY3l9LyR7cXVvdGVDdXJyZW5jeX1gLFxuICAgICAgYmFzZUN1cnJlbmN5LFxuICAgICAgcXVvdGVDdXJyZW5jeSxcbiAgICAgIGN1cnJlbnRQcmljZTogYmFzZUN1cnJlbmN5ID09PSAnRVVSJyAmJiBxdW90ZUN1cnJlbmN5ID09PSAnQU9BJyA/IDY1NS41MCA6IDAuMDAxNTIsXG4gICAgICBiZXN0QmlkOiBiYXNlQ3VycmVuY3kgPT09ICdFVVInICYmIHF1b3RlQ3VycmVuY3kgPT09ICdBT0EnID8gNjU1LjAwIDogMC4wMDE1MSxcbiAgICAgIGJlc3RBc2s6IGJhc2VDdXJyZW5jeSA9PT0gJ0VVUicgJiYgcXVvdGVDdXJyZW5jeSA9PT0gJ0FPQScgPyA2NTYuMDAgOiAwLjAwMTUzLFxuICAgICAgdm9sdW1lMjRoOiAxMjUwMDAuNTAsXG4gICAgICBoaWdoMjRoOiBiYXNlQ3VycmVuY3kgPT09ICdFVVInICYmIHF1b3RlQ3VycmVuY3kgPT09ICdBT0EnID8gNjU4LjAwIDogMC4wMDE1NSxcbiAgICAgIGxvdzI0aDogYmFzZUN1cnJlbmN5ID09PSAnRVVSJyAmJiBxdW90ZUN1cnJlbmN5ID09PSAnQU9BJyA/IDY1Mi4wMCA6IDAuMDAxNTAsXG4gICAgICBjaGFuZ2UyNGg6IDIuNTAsXG4gICAgICBjaGFuZ2VQZXJjZW50MjRoOiAwLjM4LFxuICAgICAgdHJhZGVDb3VudDI0aDogMTU2LFxuICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHN0YXR1czogJ2FjdGl2ZSdcbiAgICB9O1xuXG4gICAgcmV0dXJuIGNyZWF0ZVN1Y2Nlc3NSZXNwb25zZShtb2NrU3VtbWFyeURhdGEsICdNYXJrZXQgc3VtbWFyeSByZXRyaWV2ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdNYXJrZXQgc3VtbWFyeSBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIEVycm9yUmVzcG9uc2VzLmRhdGFiYXNlRXJyb3IoJ0ZhaWxlZCB0byByZXRyaWV2ZSBtYXJrZXQgc3VtbWFyeScpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBHRVQgPSB3aXRoQ29ycyh3aXRoRXJyb3JIYW5kbGluZyhtYXJrZXRTdW1tYXJ5SGFuZGxlcikpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQW1CVTtJQUFBQSxjQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxjQUFBO0FBbEJWLFNBQVNFLHFCQUFxQixFQUFFQyxjQUFjLEVBQUVDLGlCQUFpQixRQUFRLHFCQUFxQjtBQUM5RixTQUFTQyxRQUFRLFFBQVEsZ0JBQWdCO0FBQ3pDLFNBQVNDLG9CQUFvQixRQUFRLDBCQUEwQjtBQUMvRCxTQUFTQyxDQUFDLFFBQVEsS0FBSztBQUV2QjtBQUNBLE1BQU1DLG1CQUFtQjtBQUFBO0FBQUEsQ0FBQVIsY0FBQSxH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
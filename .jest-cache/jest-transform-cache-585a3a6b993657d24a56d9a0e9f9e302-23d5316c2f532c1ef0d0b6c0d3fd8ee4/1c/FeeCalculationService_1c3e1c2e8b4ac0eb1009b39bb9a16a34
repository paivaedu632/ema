2fba40eb8dbb7fc5ec54fe91883a3b65
/* istanbul ignore next */
function cov_ie0p0kn52() {
  var path = "C:\\Users\\User\\Documents\\GitHub\\ema\\src\\domain\\services\\FeeCalculationService.ts";
  var hash = "9056a1a454308a3be51b683a1808c642160d0285";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\User\\Documents\\GitHub\\ema\\src\\domain\\services\\FeeCalculationService.ts",
    statementMap: {
      "0": {
        start: {
          line: 11,
          column: 8
        },
        end: {
          line: 11,
          column: 39
        }
      },
      "1": {
        start: {
          line: 12,
          column: 8
        },
        end: {
          line: 12,
          column: 46
        }
      },
      "2": {
        start: {
          line: 18,
          column: 29
        },
        end: {
          line: 18,
          column: 83
        }
      },
      "3": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 21,
          column: 9
        }
      },
      "4": {
        start: {
          line: 20,
          column: 12
        },
        end: {
          line: 20,
          column: 104
        }
      },
      "5": {
        start: {
          line: 23,
          column: 34
        },
        end: {
          line: 23,
          column: 77
        }
      },
      "6": {
        start: {
          line: 25,
          column: 31
        },
        end: {
          line: 25,
          column: 57
        }
      },
      "7": {
        start: {
          line: 27,
          column: 33
        },
        end: {
          line: 27,
          column: 81
        }
      },
      "8": {
        start: {
          line: 28,
          column: 36
        },
        end: {
          line: 28,
          column: 94
        }
      },
      "9": {
        start: {
          line: 30,
          column: 39
        },
        end: {
          line: 30,
          column: 78
        }
      },
      "10": {
        start: {
          line: 32,
          column: 23
        },
        end: {
          line: 32,
          column: 45
        }
      },
      "11": {
        start: {
          line: 33,
          column: 8
        },
        end: {
          line: 38,
          column: 9
        }
      },
      "12": {
        start: {
          line: 34,
          column: 12
        },
        end: {
          line: 34,
          column: 52
        }
      },
      "13": {
        start: {
          line: 36,
          column: 13
        },
        end: {
          line: 38,
          column: 9
        }
      },
      "14": {
        start: {
          line: 37,
          column: 12
        },
        end: {
          line: 37,
          column: 52
        }
      },
      "15": {
        start: {
          line: 40,
          column: 26
        },
        end: {
          line: 40,
          column: 51
        }
      },
      "16": {
        start: {
          line: 41,
          column: 8
        },
        end: {
          line: 51,
          column: 10
        }
      },
      "17": {
        start: {
          line: 58,
          column: 8
        },
        end: {
          line: 58,
          column: 69
        }
      },
      "18": {
        start: {
          line: 64,
          column: 8
        },
        end: {
          line: 66,
          column: 9
        }
      },
      "19": {
        start: {
          line: 65,
          column: 12
        },
        end: {
          line: 65,
          column: 47
        }
      },
      "20": {
        start: {
          line: 68,
          column: 36
        },
        end: {
          line: 68,
          column: 80
        }
      },
      "21": {
        start: {
          line: 69,
          column: 8
        },
        end: {
          line: 69,
          column: 44
        }
      },
      "22": {
        start: {
          line: 75,
          column: 23
        },
        end: {
          line: 75,
          column: 71
        }
      },
      "23": {
        start: {
          line: 76,
          column: 30
        },
        end: {
          line: 76,
          column: 76
        }
      },
      "24": {
        start: {
          line: 77,
          column: 8
        },
        end: {
          line: 80,
          column: 10
        }
      },
      "25": {
        start: {
          line: 86,
          column: 29
        },
        end: {
          line: 86,
          column: 83
        }
      },
      "26": {
        start: {
          line: 87,
          column: 8
        },
        end: {
          line: 88,
          column: 25
        }
      },
      "27": {
        start: {
          line: 88,
          column: 12
        },
        end: {
          line: 88,
          column: 25
        }
      },
      "28": {
        start: {
          line: 89,
          column: 30
        },
        end: {
          line: 89,
          column: 72
        }
      },
      "29": {
        start: {
          line: 90,
          column: 8
        },
        end: {
          line: 90,
          column: 84
        }
      },
      "30": {
        start: {
          line: 96,
          column: 20
        },
        end: {
          line: 96,
          column: 57
        }
      },
      "31": {
        start: {
          line: 97,
          column: 8
        },
        end: {
          line: 97,
          column: 43
        }
      },
      "32": {
        start: {
          line: 103,
          column: 8
        },
        end: {
          line: 105,
          column: 9
        }
      },
      "33": {
        start: {
          line: 104,
          column: 12
        },
        end: {
          line: 104,
          column: 32
        }
      },
      "34": {
        start: {
          line: 107,
          column: 8
        },
        end: {
          line: 109,
          column: 9
        }
      },
      "35": {
        start: {
          line: 108,
          column: 12
        },
        end: {
          line: 108,
          column: 166
        }
      },
      "36": {
        start: {
          line: 110,
          column: 8
        },
        end: {
          line: 110,
          column: 28
        }
      },
      "37": {
        start: {
          line: 116,
          column: 20
        },
        end: {
          line: 116,
          column: 46
        }
      },
      "38": {
        start: {
          line: 117,
          column: 26
        },
        end: {
          line: 117,
          column: 53
        }
      },
      "39": {
        start: {
          line: 118,
          column: 8
        },
        end: {
          line: 128,
          column: 9
        }
      },
      "40": {
        start: {
          line: 120,
          column: 12
        },
        end: {
          line: 127,
          column: 14
        }
      },
      "41": {
        start: {
          line: 129,
          column: 8
        },
        end: {
          line: 129,
          column: 25
        }
      },
      "42": {
        start: {
          line: 135,
          column: 28
        },
        end: {
          line: 135,
          column: 42
        }
      },
      "43": {
        start: {
          line: 136,
          column: 28
        },
        end: {
          line: 136,
          column: 42
        }
      },
      "44": {
        start: {
          line: 138,
          column: 8
        },
        end: {
          line: 145,
          column: 11
        }
      },
      "45": {
        start: {
          line: 146,
          column: 8
        },
        end: {
          line: 153,
          column: 11
        }
      },
      "46": {
        start: {
          line: 155,
          column: 8
        },
        end: {
          line: 162,
          column: 11
        }
      },
      "47": {
        start: {
          line: 164,
          column: 8
        },
        end: {
          line: 171,
          column: 11
        }
      },
      "48": {
        start: {
          line: 173,
          column: 8
        },
        end: {
          line: 180,
          column: 11
        }
      },
      "49": {
        start: {
          line: 181,
          column: 8
        },
        end: {
          line: 188,
          column: 11
        }
      },
      "50": {
        start: {
          line: 190,
          column: 8
        },
        end: {
          line: 197,
          column: 11
        }
      },
      "51": {
        start: {
          line: 198,
          column: 8
        },
        end: {
          line: 205,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 10,
            column: 4
          },
          end: {
            line: 10,
            column: 5
          }
        },
        loc: {
          start: {
            line: 10,
            column: 18
          },
          end: {
            line: 13,
            column: 5
          }
        },
        line: 10
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 17,
            column: 4
          },
          end: {
            line: 17,
            column: 5
          }
        },
        loc: {
          start: {
            line: 17,
            column: 48
          },
          end: {
            line: 52,
            column: 5
          }
        },
        line: 17
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 56,
            column: 4
          },
          end: {
            line: 56,
            column: 5
          }
        },
        loc: {
          start: {
            line: 56,
            column: 75
          },
          end: {
            line: 59,
            column: 5
          }
        },
        line: 56
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 63,
            column: 4
          },
          end: {
            line: 63,
            column: 5
          }
        },
        loc: {
          start: {
            line: 63,
            column: 69
          },
          end: {
            line: 70,
            column: 5
          }
        },
        line: 63
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 74,
            column: 4
          },
          end: {
            line: 74,
            column: 5
          }
        },
        loc: {
          start: {
            line: 74,
            column: 50
          },
          end: {
            line: 81,
            column: 5
          }
        },
        line: 74
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 85,
            column: 4
          },
          end: {
            line: 85,
            column: 5
          }
        },
        loc: {
          start: {
            line: 85,
            column: 56
          },
          end: {
            line: 91,
            column: 5
          }
        },
        line: 85
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 95,
            column: 4
          },
          end: {
            line: 95,
            column: 5
          }
        },
        loc: {
          start: {
            line: 95,
            column: 47
          },
          end: {
            line: 98,
            column: 5
          }
        },
        line: 95
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 102,
            column: 4
          },
          end: {
            line: 102,
            column: 5
          }
        },
        loc: {
          start: {
            line: 102,
            column: 43
          },
          end: {
            line: 111,
            column: 5
          }
        },
        line: 102
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 115,
            column: 4
          },
          end: {
            line: 115,
            column: 5
          }
        },
        loc: {
          start: {
            line: 115,
            column: 37
          },
          end: {
            line: 130,
            column: 5
          }
        },
        line: 115
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 134,
            column: 4
          },
          end: {
            line: 134,
            column: 5
          }
        },
        loc: {
          start: {
            line: 134,
            column: 37
          },
          end: {
            line: 206,
            column: 5
          }
        },
        line: 134
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 19,
            column: 8
          },
          end: {
            line: 21,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 19,
            column: 8
          },
          end: {
            line: 21,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 19
      },
      "1": {
        loc: {
          start: {
            line: 33,
            column: 8
          },
          end: {
            line: 38,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 33,
            column: 8
          },
          end: {
            line: 38,
            column: 9
          }
        }, {
          start: {
            line: 36,
            column: 13
          },
          end: {
            line: 38,
            column: 9
          }
        }],
        line: 33
      },
      "2": {
        loc: {
          start: {
            line: 36,
            column: 13
          },
          end: {
            line: 38,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 36,
            column: 13
          },
          end: {
            line: 38,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 36
      },
      "3": {
        loc: {
          start: {
            line: 63,
            column: 49
          },
          end: {
            line: 63,
            column: 67
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 63,
            column: 62
          },
          end: {
            line: 63,
            column: 67
          }
        }],
        line: 63
      },
      "4": {
        loc: {
          start: {
            line: 64,
            column: 8
          },
          end: {
            line: 66,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 64,
            column: 8
          },
          end: {
            line: 66,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 64
      },
      "5": {
        loc: {
          start: {
            line: 87,
            column: 8
          },
          end: {
            line: 88,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 87,
            column: 8
          },
          end: {
            line: 88,
            column: 25
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 87
      },
      "6": {
        loc: {
          start: {
            line: 103,
            column: 8
          },
          end: {
            line: 105,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 103,
            column: 8
          },
          end: {
            line: 105,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 103
      },
      "7": {
        loc: {
          start: {
            line: 107,
            column: 8
          },
          end: {
            line: 109,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 107,
            column: 8
          },
          end: {
            line: 109,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 107
      },
      "8": {
        loc: {
          start: {
            line: 118,
            column: 8
          },
          end: {
            line: 128,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 118,
            column: 8
          },
          end: {
            line: 128,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 118
      },
      "9": {
        loc: {
          start: {
            line: 123,
            column: 43
          },
          end: {
            line: 123,
            column: 70
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 123,
            column: 62
          },
          end: {
            line: 123,
            column: 63
          }
        }, {
          start: {
            line: 123,
            column: 66
          },
          end: {
            line: 123,
            column: 70
          }
        }],
        line: 123
      },
      "10": {
        loc: {
          start: {
            line: 125,
            column: 45
          },
          end: {
            line: 125,
            column: 72
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 125,
            column: 64
          },
          end: {
            line: 125,
            column: 65
          }
        }, {
          start: {
            line: 125,
            column: 68
          },
          end: {
            line: 125,
            column: 72
          }
        }],
        line: 125
      },
      "11": {
        loc: {
          start: {
            line: 126,
            column: 45
          },
          end: {
            line: 126,
            column: 74
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 126,
            column: 64
          },
          end: {
            line: 126,
            column: 66
          }
        }, {
          start: {
            line: 126,
            column: 69
          },
          end: {
            line: 126,
            column: 74
          }
        }],
        line: 126
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0]
    },
    inputSourceMap: {
      file: "C:\\Users\\User\\Documents\\GitHub\\ema\\src\\domain\\services\\FeeCalculationService.ts",
      mappings: "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",
      names: [],
      sources: ["C:\\Users\\User\\Documents\\GitHub\\ema\\src\\domain\\services\\FeeCalculationService.ts"],
      sourcesContent: ["/**\n * Fee Calculation Domain Service\n * \n * Handles fee calculations for different transaction types.\n * Contains business logic for fee structures and calculations.\n */\n\nimport { Money } from '../value-objects/Money'\nimport { Currency } from '../value-objects/Currency'\nimport { TransactionType } from '../entities/Transaction'\nimport { User } from '../entities/User'\n\nexport interface FeeStructure {\n  transactionType: TransactionType\n  currency: Currency\n  fixedFee: Money\n  percentageFee: number // As decimal (0.02 = 2%)\n  minimumFee: Money\n  maximumFee: Money\n}\n\nexport interface FeeCalculationResult {\n  baseFee: Money\n  percentageFee: Money\n  totalFee: Money\n  netAmount: Money\n  feeBreakdown: {\n    fixedComponent: Money\n    percentageComponent: Money\n    appliedRate: number\n  }\n}\n\nexport class FeeCalculationService {\n  private readonly feeStructures: Map<string, FeeStructure> = new Map()\n\n  constructor() {\n    this.initializeDefaultFeeStructures()\n  }\n\n  /**\n   * Calculate fee for a transaction\n   */\n  calculateFee(\n    amount: Money,\n    transactionType: TransactionType,\n    user?: User\n  ): FeeCalculationResult {\n    const feeStructure = this.getFeeStructure(transactionType, amount.currency)\n    \n    if (!feeStructure) {\n      throw new Error(`No fee structure found for ${transactionType} in ${amount.currency.code}`)\n    }\n\n    // Apply user-specific discounts if applicable\n    const adjustedStructure = this.applyUserDiscounts(feeStructure, user)\n\n    // Calculate fixed fee component\n    const fixedComponent = adjustedStructure.fixedFee\n\n    // Calculate percentage fee component\n    const percentageAmount = amount.multiply(adjustedStructure.percentageFee)\n    const percentageComponent = Money.fromNumber(percentageAmount.amount, amount.currency)\n\n    // Calculate total fee before min/max constraints\n    const totalBeforeConstraints = fixedComponent.add(percentageComponent)\n\n    // Apply minimum and maximum constraints\n    let totalFee = totalBeforeConstraints\n    if (totalFee.isLessThan(adjustedStructure.minimumFee)) {\n      totalFee = adjustedStructure.minimumFee\n    } else if (totalFee.isGreaterThan(adjustedStructure.maximumFee)) {\n      totalFee = adjustedStructure.maximumFee\n    }\n\n    // Calculate net amount\n    const netAmount = amount.subtract(totalFee)\n\n    return {\n      baseFee: fixedComponent,\n      percentageFee: percentageComponent,\n      totalFee,\n      netAmount,\n      feeBreakdown: {\n        fixedComponent,\n        percentageComponent,\n        appliedRate: adjustedStructure.percentageFee\n      }\n    }\n  }\n\n  /**\n   * Calculate fee for currency exchange\n   */\n  calculateExchangeFee(\n    inputAmount: Money,\n    outputAmount: Money,\n    transactionType: 'buy' | 'sell',\n    user?: User\n  ): FeeCalculationResult {\n    // Use the input currency for fee calculation\n    return this.calculateFee(inputAmount, transactionType, user)\n  }\n\n  /**\n   * Calculate network/processing fee for external transactions\n   */\n  calculateNetworkFee(\n    amount: Money,\n    transactionType: TransactionType,\n    isExternal: boolean = false\n  ): Money {\n    if (!isExternal) {\n      return Money.zero(amount.currency)\n    }\n\n    // External transaction fees\n    const networkFeeStructure = this.getNetworkFeeStructure(amount.currency)\n    return networkFeeStructure.fixedFee\n  }\n\n  /**\n   * Get fee estimate for display purposes\n   */\n  getFeeEstimate(\n    amount: Money,\n    transactionType: TransactionType,\n    user?: User\n  ): { estimatedFee: Money; feePercentage: number } {\n    const result = this.calculateFee(amount, transactionType, user)\n    const feePercentage = (result.totalFee.amount / amount.amount) * 100\n\n    return {\n      estimatedFee: result.totalFee,\n      feePercentage\n    }\n  }\n\n  /**\n   * Check if transaction amount meets minimum fee requirements\n   */\n  meetsMinimumFeeRequirement(\n    amount: Money,\n    transactionType: TransactionType\n  ): boolean {\n    const feeStructure = this.getFeeStructure(transactionType, amount.currency)\n    if (!feeStructure) return false\n\n    const calculatedFee = this.calculateFee(amount, transactionType)\n    return calculatedFee.totalFee.isGreaterThanOrEqual(feeStructure.minimumFee)\n  }\n\n  /**\n   * Get fee structure for transaction type and currency\n   */\n  private getFeeStructure(\n    transactionType: TransactionType,\n    currency: Currency\n  ): FeeStructure | undefined {\n    const key = `${transactionType}-${currency.code}`\n    return this.feeStructures.get(key)\n  }\n\n  /**\n   * Apply user-specific fee discounts\n   */\n  private applyUserDiscounts(\n    feeStructure: FeeStructure,\n    user?: User\n  ): FeeStructure {\n    if (!user) {\n      return feeStructure\n    }\n\n    // KYC-approved users get reduced fees\n    if (user.isKycApproved()) {\n      return {\n        ...feeStructure,\n        percentageFee: feeStructure.percentageFee * 0.8, // 20% discount\n        fixedFee: feeStructure.fixedFee.multiply(0.8)\n      }\n    }\n\n    return feeStructure\n  }\n\n  /**\n   * Get network fee structure for external transactions\n   */\n  private getNetworkFeeStructure(currency: Currency): FeeStructure {\n    const key = `network-${currency.code}`\n    const structure = this.feeStructures.get(key)\n    \n    if (!structure) {\n      // Default network fee\n      return {\n        transactionType: 'send',\n        currency,\n        fixedFee: Money.fromNumber(currency.isEUR() ? 2 : 2400, currency), // 2 EUR or 2400 AOA\n        percentageFee: 0,\n        minimumFee: Money.fromNumber(currency.isEUR() ? 1 : 1200, currency),\n        maximumFee: Money.fromNumber(currency.isEUR() ? 10 : 12000, currency)\n      }\n    }\n\n    return structure\n  }\n\n  /**\n   * Initialize default fee structures\n   */\n  private initializeDefaultFeeStructures(): void {\n    const eurCurrency = Currency.EUR()\n    const aoaCurrency = Currency.AOA()\n\n    // Send transaction fees\n    this.feeStructures.set('send-EUR', {\n      transactionType: 'send',\n      currency: eurCurrency,\n      fixedFee: Money.fromNumber(0.5, eurCurrency),\n      percentageFee: 0.015, // 1.5%\n      minimumFee: Money.fromNumber(0.5, eurCurrency),\n      maximumFee: Money.fromNumber(25, eurCurrency)\n    })\n\n    this.feeStructures.set('send-AOA', {\n      transactionType: 'send',\n      currency: aoaCurrency,\n      fixedFee: Money.fromNumber(600, aoaCurrency),\n      percentageFee: 0.015, // 1.5%\n      minimumFee: Money.fromNumber(600, aoaCurrency),\n      maximumFee: Money.fromNumber(30000, aoaCurrency)\n    })\n\n    // Buy transaction fees (buying AOA with EUR)\n    this.feeStructures.set('buy-EUR', {\n      transactionType: 'buy',\n      currency: eurCurrency,\n      fixedFee: Money.fromNumber(1, eurCurrency),\n      percentageFee: 0.02, // 2%\n      minimumFee: Money.fromNumber(1, eurCurrency),\n      maximumFee: Money.fromNumber(50, eurCurrency)\n    })\n\n    // Sell transaction fees (selling AOA for EUR)\n    this.feeStructures.set('sell-AOA', {\n      transactionType: 'sell',\n      currency: aoaCurrency,\n      fixedFee: Money.fromNumber(1200, aoaCurrency),\n      percentageFee: 0.02, // 2%\n      minimumFee: Money.fromNumber(1200, aoaCurrency),\n      maximumFee: Money.fromNumber(60000, aoaCurrency)\n    })\n\n    // Deposit fees (usually free or minimal)\n    this.feeStructures.set('deposit-EUR', {\n      transactionType: 'deposit',\n      currency: eurCurrency,\n      fixedFee: Money.zero(eurCurrency),\n      percentageFee: 0,\n      minimumFee: Money.zero(eurCurrency),\n      maximumFee: Money.fromNumber(5, eurCurrency)\n    })\n\n    this.feeStructures.set('deposit-AOA', {\n      transactionType: 'deposit',\n      currency: aoaCurrency,\n      fixedFee: Money.zero(aoaCurrency),\n      percentageFee: 0,\n      minimumFee: Money.zero(aoaCurrency),\n      maximumFee: Money.fromNumber(6000, aoaCurrency)\n    })\n\n    // Withdraw fees\n    this.feeStructures.set('withdraw-EUR', {\n      transactionType: 'withdraw',\n      currency: eurCurrency,\n      fixedFee: Money.fromNumber(2, eurCurrency),\n      percentageFee: 0.005, // 0.5%\n      minimumFee: Money.fromNumber(2, eurCurrency),\n      maximumFee: Money.fromNumber(20, eurCurrency)\n    })\n\n    this.feeStructures.set('withdraw-AOA', {\n      transactionType: 'withdraw',\n      currency: aoaCurrency,\n      fixedFee: Money.fromNumber(2400, aoaCurrency),\n      percentageFee: 0.005, // 0.5%\n      minimumFee: Money.fromNumber(2400, aoaCurrency),\n      maximumFee: Money.fromNumber(24000, aoaCurrency)\n    })\n  }\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "9056a1a454308a3be51b683a1808c642160d0285"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_ie0p0kn52 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_ie0p0kn52();
/**
 * Fee Calculation Domain Service
 *
 * Handles fee calculations for different transaction types.
 * Contains business logic for fee structures and calculations.
 */
import { Money } from '../value-objects/Money';
import { Currency } from '../value-objects/Currency';
export class FeeCalculationService {
  constructor() {
    /* istanbul ignore next */
    cov_ie0p0kn52().f[0]++;
    cov_ie0p0kn52().s[0]++;
    this.feeStructures = new Map();
    /* istanbul ignore next */
    cov_ie0p0kn52().s[1]++;
    this.initializeDefaultFeeStructures();
  }
  /**
   * Calculate fee for a transaction
   */
  calculateFee(amount, transactionType, user) {
    /* istanbul ignore next */
    cov_ie0p0kn52().f[1]++;
    const feeStructure =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[2]++, this.getFeeStructure(transactionType, amount.currency));
    /* istanbul ignore next */
    cov_ie0p0kn52().s[3]++;
    if (!feeStructure) {
      /* istanbul ignore next */
      cov_ie0p0kn52().b[0][0]++;
      cov_ie0p0kn52().s[4]++;
      throw new Error(`No fee structure found for ${transactionType} in ${amount.currency.code}`);
    } else
    /* istanbul ignore next */
    {
      cov_ie0p0kn52().b[0][1]++;
    }
    // Apply user-specific discounts if applicable
    const adjustedStructure =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[5]++, this.applyUserDiscounts(feeStructure, user));
    // Calculate fixed fee component
    const fixedComponent =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[6]++, adjustedStructure.fixedFee);
    // Calculate percentage fee component
    const percentageAmount =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[7]++, amount.multiply(adjustedStructure.percentageFee));
    const percentageComponent =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[8]++, Money.fromNumber(percentageAmount.amount, amount.currency));
    // Calculate total fee before min/max constraints
    const totalBeforeConstraints =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[9]++, fixedComponent.add(percentageComponent));
    // Apply minimum and maximum constraints
    let totalFee =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[10]++, totalBeforeConstraints);
    /* istanbul ignore next */
    cov_ie0p0kn52().s[11]++;
    if (totalFee.isLessThan(adjustedStructure.minimumFee)) {
      /* istanbul ignore next */
      cov_ie0p0kn52().b[1][0]++;
      cov_ie0p0kn52().s[12]++;
      totalFee = adjustedStructure.minimumFee;
    } else {
      /* istanbul ignore next */
      cov_ie0p0kn52().b[1][1]++;
      cov_ie0p0kn52().s[13]++;
      if (totalFee.isGreaterThan(adjustedStructure.maximumFee)) {
        /* istanbul ignore next */
        cov_ie0p0kn52().b[2][0]++;
        cov_ie0p0kn52().s[14]++;
        totalFee = adjustedStructure.maximumFee;
      } else
      /* istanbul ignore next */
      {
        cov_ie0p0kn52().b[2][1]++;
      }
    }
    // Calculate net amount
    const netAmount =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[15]++, amount.subtract(totalFee));
    /* istanbul ignore next */
    cov_ie0p0kn52().s[16]++;
    return {
      baseFee: fixedComponent,
      percentageFee: percentageComponent,
      totalFee,
      netAmount,
      feeBreakdown: {
        fixedComponent,
        percentageComponent,
        appliedRate: adjustedStructure.percentageFee
      }
    };
  }
  /**
   * Calculate fee for currency exchange
   */
  calculateExchangeFee(inputAmount, outputAmount, transactionType, user) {
    /* istanbul ignore next */
    cov_ie0p0kn52().f[2]++;
    cov_ie0p0kn52().s[17]++;
    // Use the input currency for fee calculation
    return this.calculateFee(inputAmount, transactionType, user);
  }
  /**
   * Calculate network/processing fee for external transactions
   */
  calculateNetworkFee(amount, transactionType, isExternal =
  /* istanbul ignore next */
  (cov_ie0p0kn52().b[3][0]++, false)) {
    /* istanbul ignore next */
    cov_ie0p0kn52().f[3]++;
    cov_ie0p0kn52().s[18]++;
    if (!isExternal) {
      /* istanbul ignore next */
      cov_ie0p0kn52().b[4][0]++;
      cov_ie0p0kn52().s[19]++;
      return Money.zero(amount.currency);
    } else
    /* istanbul ignore next */
    {
      cov_ie0p0kn52().b[4][1]++;
    }
    // External transaction fees
    const networkFeeStructure =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[20]++, this.getNetworkFeeStructure(amount.currency));
    /* istanbul ignore next */
    cov_ie0p0kn52().s[21]++;
    return networkFeeStructure.fixedFee;
  }
  /**
   * Get fee estimate for display purposes
   */
  getFeeEstimate(amount, transactionType, user) {
    /* istanbul ignore next */
    cov_ie0p0kn52().f[4]++;
    const result =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[22]++, this.calculateFee(amount, transactionType, user));
    const feePercentage =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[23]++, result.totalFee.amount / amount.amount * 100);
    /* istanbul ignore next */
    cov_ie0p0kn52().s[24]++;
    return {
      estimatedFee: result.totalFee,
      feePercentage
    };
  }
  /**
   * Check if transaction amount meets minimum fee requirements
   */
  meetsMinimumFeeRequirement(amount, transactionType) {
    /* istanbul ignore next */
    cov_ie0p0kn52().f[5]++;
    const feeStructure =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[25]++, this.getFeeStructure(transactionType, amount.currency));
    /* istanbul ignore next */
    cov_ie0p0kn52().s[26]++;
    if (!feeStructure) {
      /* istanbul ignore next */
      cov_ie0p0kn52().b[5][0]++;
      cov_ie0p0kn52().s[27]++;
      return false;
    } else
    /* istanbul ignore next */
    {
      cov_ie0p0kn52().b[5][1]++;
    }
    const calculatedFee =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[28]++, this.calculateFee(amount, transactionType));
    /* istanbul ignore next */
    cov_ie0p0kn52().s[29]++;
    return calculatedFee.totalFee.isGreaterThanOrEqual(feeStructure.minimumFee);
  }
  /**
   * Get fee structure for transaction type and currency
   */
  getFeeStructure(transactionType, currency) {
    /* istanbul ignore next */
    cov_ie0p0kn52().f[6]++;
    const key =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[30]++, `${transactionType}-${currency.code}`);
    /* istanbul ignore next */
    cov_ie0p0kn52().s[31]++;
    return this.feeStructures.get(key);
  }
  /**
   * Apply user-specific fee discounts
   */
  applyUserDiscounts(feeStructure, user) {
    /* istanbul ignore next */
    cov_ie0p0kn52().f[7]++;
    cov_ie0p0kn52().s[32]++;
    if (!user) {
      /* istanbul ignore next */
      cov_ie0p0kn52().b[6][0]++;
      cov_ie0p0kn52().s[33]++;
      return feeStructure;
    } else
    /* istanbul ignore next */
    {
      cov_ie0p0kn52().b[6][1]++;
    }
    // KYC-approved users get reduced fees
    cov_ie0p0kn52().s[34]++;
    if (user.isKycApproved()) {
      /* istanbul ignore next */
      cov_ie0p0kn52().b[7][0]++;
      cov_ie0p0kn52().s[35]++;
      return Object.assign(Object.assign({}, feeStructure), {
        percentageFee: feeStructure.percentageFee * 0.8,
        fixedFee: feeStructure.fixedFee.multiply(0.8)
      });
    } else
    /* istanbul ignore next */
    {
      cov_ie0p0kn52().b[7][1]++;
    }
    cov_ie0p0kn52().s[36]++;
    return feeStructure;
  }
  /**
   * Get network fee structure for external transactions
   */
  getNetworkFeeStructure(currency) {
    /* istanbul ignore next */
    cov_ie0p0kn52().f[8]++;
    const key =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[37]++, `network-${currency.code}`);
    const structure =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[38]++, this.feeStructures.get(key));
    /* istanbul ignore next */
    cov_ie0p0kn52().s[39]++;
    if (!structure) {
      /* istanbul ignore next */
      cov_ie0p0kn52().b[8][0]++;
      cov_ie0p0kn52().s[40]++;
      // Default network fee
      return {
        transactionType: 'send',
        currency,
        fixedFee: Money.fromNumber(currency.isEUR() ?
        /* istanbul ignore next */
        (cov_ie0p0kn52().b[9][0]++, 2) :
        /* istanbul ignore next */
        (cov_ie0p0kn52().b[9][1]++, 2400), currency),
        // 2 EUR or 2400 AOA
        percentageFee: 0,
        minimumFee: Money.fromNumber(currency.isEUR() ?
        /* istanbul ignore next */
        (cov_ie0p0kn52().b[10][0]++, 1) :
        /* istanbul ignore next */
        (cov_ie0p0kn52().b[10][1]++, 1200), currency),
        maximumFee: Money.fromNumber(currency.isEUR() ?
        /* istanbul ignore next */
        (cov_ie0p0kn52().b[11][0]++, 10) :
        /* istanbul ignore next */
        (cov_ie0p0kn52().b[11][1]++, 12000), currency)
      };
    } else
    /* istanbul ignore next */
    {
      cov_ie0p0kn52().b[8][1]++;
    }
    cov_ie0p0kn52().s[41]++;
    return structure;
  }
  /**
   * Initialize default fee structures
   */
  initializeDefaultFeeStructures() {
    /* istanbul ignore next */
    cov_ie0p0kn52().f[9]++;
    const eurCurrency =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[42]++, Currency.EUR());
    const aoaCurrency =
    /* istanbul ignore next */
    (cov_ie0p0kn52().s[43]++, Currency.AOA());
    // Send transaction fees
    /* istanbul ignore next */
    cov_ie0p0kn52().s[44]++;
    this.feeStructures.set('send-EUR', {
      transactionType: 'send',
      currency: eurCurrency,
      fixedFee: Money.fromNumber(0.5, eurCurrency),
      percentageFee: 0.015,
      // 1.5%
      minimumFee: Money.fromNumber(0.5, eurCurrency),
      maximumFee: Money.fromNumber(25, eurCurrency)
    });
    /* istanbul ignore next */
    cov_ie0p0kn52().s[45]++;
    this.feeStructures.set('send-AOA', {
      transactionType: 'send',
      currency: aoaCurrency,
      fixedFee: Money.fromNumber(600, aoaCurrency),
      percentageFee: 0.015,
      // 1.5%
      minimumFee: Money.fromNumber(600, aoaCurrency),
      maximumFee: Money.fromNumber(30000, aoaCurrency)
    });
    // Buy transaction fees (buying AOA with EUR)
    /* istanbul ignore next */
    cov_ie0p0kn52().s[46]++;
    this.feeStructures.set('buy-EUR', {
      transactionType: 'buy',
      currency: eurCurrency,
      fixedFee: Money.fromNumber(1, eurCurrency),
      percentageFee: 0.02,
      // 2%
      minimumFee: Money.fromNumber(1, eurCurrency),
      maximumFee: Money.fromNumber(50, eurCurrency)
    });
    // Sell transaction fees (selling AOA for EUR)
    /* istanbul ignore next */
    cov_ie0p0kn52().s[47]++;
    this.feeStructures.set('sell-AOA', {
      transactionType: 'sell',
      currency: aoaCurrency,
      fixedFee: Money.fromNumber(1200, aoaCurrency),
      percentageFee: 0.02,
      // 2%
      minimumFee: Money.fromNumber(1200, aoaCurrency),
      maximumFee: Money.fromNumber(60000, aoaCurrency)
    });
    // Deposit fees (usually free or minimal)
    /* istanbul ignore next */
    cov_ie0p0kn52().s[48]++;
    this.feeStructures.set('deposit-EUR', {
      transactionType: 'deposit',
      currency: eurCurrency,
      fixedFee: Money.zero(eurCurrency),
      percentageFee: 0,
      minimumFee: Money.zero(eurCurrency),
      maximumFee: Money.fromNumber(5, eurCurrency)
    });
    /* istanbul ignore next */
    cov_ie0p0kn52().s[49]++;
    this.feeStructures.set('deposit-AOA', {
      transactionType: 'deposit',
      currency: aoaCurrency,
      fixedFee: Money.zero(aoaCurrency),
      percentageFee: 0,
      minimumFee: Money.zero(aoaCurrency),
      maximumFee: Money.fromNumber(6000, aoaCurrency)
    });
    // Withdraw fees
    /* istanbul ignore next */
    cov_ie0p0kn52().s[50]++;
    this.feeStructures.set('withdraw-EUR', {
      transactionType: 'withdraw',
      currency: eurCurrency,
      fixedFee: Money.fromNumber(2, eurCurrency),
      percentageFee: 0.005,
      // 0.5%
      minimumFee: Money.fromNumber(2, eurCurrency),
      maximumFee: Money.fromNumber(20, eurCurrency)
    });
    /* istanbul ignore next */
    cov_ie0p0kn52().s[51]++;
    this.feeStructures.set('withdraw-AOA', {
      transactionType: 'withdraw',
      currency: aoaCurrency,
      fixedFee: Money.fromNumber(2400, aoaCurrency),
      percentageFee: 0.005,
      // 0.5%
      minimumFee: Money.fromNumber(2400, aoaCurrency),
      maximumFee: Money.fromNumber(24000, aoaCurrency)
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfaWUwcDBrbjUyIiwiYWN0dWFsQ292ZXJhZ2UiLCJNb25leSIsIkN1cnJlbmN5IiwiRmVlQ2FsY3VsYXRpb25TZXJ2aWNlIiwiY29uc3RydWN0b3IiLCJmIiwicyIsImZlZVN0cnVjdHVyZXMiLCJNYXAiLCJpbml0aWFsaXplRGVmYXVsdEZlZVN0cnVjdHVyZXMiLCJjYWxjdWxhdGVGZWUiLCJhbW91bnQiLCJ0cmFuc2FjdGlvblR5cGUiLCJ1c2VyIiwiZmVlU3RydWN0dXJlIiwiZ2V0RmVlU3RydWN0dXJlIiwiY3VycmVuY3kiLCJiIiwiRXJyb3IiLCJjb2RlIiwiYWRqdXN0ZWRTdHJ1Y3R1cmUiLCJhcHBseVVzZXJEaXNjb3VudHMiLCJmaXhlZENvbXBvbmVudCIsImZpeGVkRmVlIiwicGVyY2VudGFnZUFtb3VudCIsIm11bHRpcGx5IiwicGVyY2VudGFnZUZlZSIsInBlcmNlbnRhZ2VDb21wb25lbnQiLCJmcm9tTnVtYmVyIiwidG90YWxCZWZvcmVDb25zdHJhaW50cyIsImFkZCIsInRvdGFsRmVlIiwiaXNMZXNzVGhhbiIsIm1pbmltdW1GZWUiLCJpc0dyZWF0ZXJUaGFuIiwibWF4aW11bUZlZSIsIm5ldEFtb3VudCIsInN1YnRyYWN0IiwiYmFzZUZlZSIsImZlZUJyZWFrZG93biIsImFwcGxpZWRSYXRlIiwiY2FsY3VsYXRlRXhjaGFuZ2VGZWUiLCJpbnB1dEFtb3VudCIsIm91dHB1dEFtb3VudCIsImNhbGN1bGF0ZU5ldHdvcmtGZWUiLCJpc0V4dGVybmFsIiwiemVybyIsIm5ldHdvcmtGZWVTdHJ1Y3R1cmUiLCJnZXROZXR3b3JrRmVlU3RydWN0dXJlIiwiZ2V0RmVlRXN0aW1hdGUiLCJyZXN1bHQiLCJmZWVQZXJjZW50YWdlIiwiZXN0aW1hdGVkRmVlIiwibWVldHNNaW5pbXVtRmVlUmVxdWlyZW1lbnQiLCJjYWxjdWxhdGVkRmVlIiwiaXNHcmVhdGVyVGhhbk9yRXF1YWwiLCJrZXkiLCJnZXQiLCJpc0t5Y0FwcHJvdmVkIiwiT2JqZWN0IiwiYXNzaWduIiwic3RydWN0dXJlIiwiaXNFVVIiLCJldXJDdXJyZW5jeSIsIkVVUiIsImFvYUN1cnJlbmN5IiwiQU9BIiwic2V0Il0sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxVc2VyXFxEb2N1bWVudHNcXEdpdEh1YlxcZW1hXFxzcmNcXGRvbWFpblxcc2VydmljZXNcXEZlZUNhbGN1bGF0aW9uU2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEZlZSBDYWxjdWxhdGlvbiBEb21haW4gU2VydmljZVxuICogXG4gKiBIYW5kbGVzIGZlZSBjYWxjdWxhdGlvbnMgZm9yIGRpZmZlcmVudCB0cmFuc2FjdGlvbiB0eXBlcy5cbiAqIENvbnRhaW5zIGJ1c2luZXNzIGxvZ2ljIGZvciBmZWUgc3RydWN0dXJlcyBhbmQgY2FsY3VsYXRpb25zLlxuICovXG5cbmltcG9ydCB7IE1vbmV5IH0gZnJvbSAnLi4vdmFsdWUtb2JqZWN0cy9Nb25leSdcbmltcG9ydCB7IEN1cnJlbmN5IH0gZnJvbSAnLi4vdmFsdWUtb2JqZWN0cy9DdXJyZW5jeSdcbmltcG9ydCB7IFRyYW5zYWN0aW9uVHlwZSB9IGZyb20gJy4uL2VudGl0aWVzL1RyYW5zYWN0aW9uJ1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uL2VudGl0aWVzL1VzZXInXG5cbmV4cG9ydCBpbnRlcmZhY2UgRmVlU3RydWN0dXJlIHtcbiAgdHJhbnNhY3Rpb25UeXBlOiBUcmFuc2FjdGlvblR5cGVcbiAgY3VycmVuY3k6IEN1cnJlbmN5XG4gIGZpeGVkRmVlOiBNb25leVxuICBwZXJjZW50YWdlRmVlOiBudW1iZXIgLy8gQXMgZGVjaW1hbCAoMC4wMiA9IDIlKVxuICBtaW5pbXVtRmVlOiBNb25leVxuICBtYXhpbXVtRmVlOiBNb25leVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZlZUNhbGN1bGF0aW9uUmVzdWx0IHtcbiAgYmFzZUZlZTogTW9uZXlcbiAgcGVyY2VudGFnZUZlZTogTW9uZXlcbiAgdG90YWxGZWU6IE1vbmV5XG4gIG5ldEFtb3VudDogTW9uZXlcbiAgZmVlQnJlYWtkb3duOiB7XG4gICAgZml4ZWRDb21wb25lbnQ6IE1vbmV5XG4gICAgcGVyY2VudGFnZUNvbXBvbmVudDogTW9uZXlcbiAgICBhcHBsaWVkUmF0ZTogbnVtYmVyXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZlZUNhbGN1bGF0aW9uU2VydmljZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgZmVlU3RydWN0dXJlczogTWFwPHN0cmluZywgRmVlU3RydWN0dXJlPiA9IG5ldyBNYXAoKVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaW5pdGlhbGl6ZURlZmF1bHRGZWVTdHJ1Y3R1cmVzKClcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgZmVlIGZvciBhIHRyYW5zYWN0aW9uXG4gICAqL1xuICBjYWxjdWxhdGVGZWUoXG4gICAgYW1vdW50OiBNb25leSxcbiAgICB0cmFuc2FjdGlvblR5cGU6IFRyYW5zYWN0aW9uVHlwZSxcbiAgICB1c2VyPzogVXNlclxuICApOiBGZWVDYWxjdWxhdGlvblJlc3VsdCB7XG4gICAgY29uc3QgZmVlU3RydWN0dXJlID0gdGhpcy5nZXRGZWVTdHJ1Y3R1cmUodHJhbnNhY3Rpb25UeXBlLCBhbW91bnQuY3VycmVuY3kpXG4gICAgXG4gICAgaWYgKCFmZWVTdHJ1Y3R1cmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZmVlIHN0cnVjdHVyZSBmb3VuZCBmb3IgJHt0cmFuc2FjdGlvblR5cGV9IGluICR7YW1vdW50LmN1cnJlbmN5LmNvZGV9YClcbiAgICB9XG5cbiAgICAvLyBBcHBseSB1c2VyLXNwZWNpZmljIGRpc2NvdW50cyBpZiBhcHBsaWNhYmxlXG4gICAgY29uc3QgYWRqdXN0ZWRTdHJ1Y3R1cmUgPSB0aGlzLmFwcGx5VXNlckRpc2NvdW50cyhmZWVTdHJ1Y3R1cmUsIHVzZXIpXG5cbiAgICAvLyBDYWxjdWxhdGUgZml4ZWQgZmVlIGNvbXBvbmVudFxuICAgIGNvbnN0IGZpeGVkQ29tcG9uZW50ID0gYWRqdXN0ZWRTdHJ1Y3R1cmUuZml4ZWRGZWVcblxuICAgIC8vIENhbGN1bGF0ZSBwZXJjZW50YWdlIGZlZSBjb21wb25lbnRcbiAgICBjb25zdCBwZXJjZW50YWdlQW1vdW50ID0gYW1vdW50Lm11bHRpcGx5KGFkanVzdGVkU3RydWN0dXJlLnBlcmNlbnRhZ2VGZWUpXG4gICAgY29uc3QgcGVyY2VudGFnZUNvbXBvbmVudCA9IE1vbmV5LmZyb21OdW1iZXIocGVyY2VudGFnZUFtb3VudC5hbW91bnQsIGFtb3VudC5jdXJyZW5jeSlcblxuICAgIC8vIENhbGN1bGF0ZSB0b3RhbCBmZWUgYmVmb3JlIG1pbi9tYXggY29uc3RyYWludHNcbiAgICBjb25zdCB0b3RhbEJlZm9yZUNvbnN0cmFpbnRzID0gZml4ZWRDb21wb25lbnQuYWRkKHBlcmNlbnRhZ2VDb21wb25lbnQpXG5cbiAgICAvLyBBcHBseSBtaW5pbXVtIGFuZCBtYXhpbXVtIGNvbnN0cmFpbnRzXG4gICAgbGV0IHRvdGFsRmVlID0gdG90YWxCZWZvcmVDb25zdHJhaW50c1xuICAgIGlmICh0b3RhbEZlZS5pc0xlc3NUaGFuKGFkanVzdGVkU3RydWN0dXJlLm1pbmltdW1GZWUpKSB7XG4gICAgICB0b3RhbEZlZSA9IGFkanVzdGVkU3RydWN0dXJlLm1pbmltdW1GZWVcbiAgICB9IGVsc2UgaWYgKHRvdGFsRmVlLmlzR3JlYXRlclRoYW4oYWRqdXN0ZWRTdHJ1Y3R1cmUubWF4aW11bUZlZSkpIHtcbiAgICAgIHRvdGFsRmVlID0gYWRqdXN0ZWRTdHJ1Y3R1cmUubWF4aW11bUZlZVxuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSBuZXQgYW1vdW50XG4gICAgY29uc3QgbmV0QW1vdW50ID0gYW1vdW50LnN1YnRyYWN0KHRvdGFsRmVlKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGJhc2VGZWU6IGZpeGVkQ29tcG9uZW50LFxuICAgICAgcGVyY2VudGFnZUZlZTogcGVyY2VudGFnZUNvbXBvbmVudCxcbiAgICAgIHRvdGFsRmVlLFxuICAgICAgbmV0QW1vdW50LFxuICAgICAgZmVlQnJlYWtkb3duOiB7XG4gICAgICAgIGZpeGVkQ29tcG9uZW50LFxuICAgICAgICBwZXJjZW50YWdlQ29tcG9uZW50LFxuICAgICAgICBhcHBsaWVkUmF0ZTogYWRqdXN0ZWRTdHJ1Y3R1cmUucGVyY2VudGFnZUZlZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgZmVlIGZvciBjdXJyZW5jeSBleGNoYW5nZVxuICAgKi9cbiAgY2FsY3VsYXRlRXhjaGFuZ2VGZWUoXG4gICAgaW5wdXRBbW91bnQ6IE1vbmV5LFxuICAgIG91dHB1dEFtb3VudDogTW9uZXksXG4gICAgdHJhbnNhY3Rpb25UeXBlOiAnYnV5JyB8ICdzZWxsJyxcbiAgICB1c2VyPzogVXNlclxuICApOiBGZWVDYWxjdWxhdGlvblJlc3VsdCB7XG4gICAgLy8gVXNlIHRoZSBpbnB1dCBjdXJyZW5jeSBmb3IgZmVlIGNhbGN1bGF0aW9uXG4gICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlRmVlKGlucHV0QW1vdW50LCB0cmFuc2FjdGlvblR5cGUsIHVzZXIpXG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIG5ldHdvcmsvcHJvY2Vzc2luZyBmZWUgZm9yIGV4dGVybmFsIHRyYW5zYWN0aW9uc1xuICAgKi9cbiAgY2FsY3VsYXRlTmV0d29ya0ZlZShcbiAgICBhbW91bnQ6IE1vbmV5LFxuICAgIHRyYW5zYWN0aW9uVHlwZTogVHJhbnNhY3Rpb25UeXBlLFxuICAgIGlzRXh0ZXJuYWw6IGJvb2xlYW4gPSBmYWxzZVxuICApOiBNb25leSB7XG4gICAgaWYgKCFpc0V4dGVybmFsKSB7XG4gICAgICByZXR1cm4gTW9uZXkuemVybyhhbW91bnQuY3VycmVuY3kpXG4gICAgfVxuXG4gICAgLy8gRXh0ZXJuYWwgdHJhbnNhY3Rpb24gZmVlc1xuICAgIGNvbnN0IG5ldHdvcmtGZWVTdHJ1Y3R1cmUgPSB0aGlzLmdldE5ldHdvcmtGZWVTdHJ1Y3R1cmUoYW1vdW50LmN1cnJlbmN5KVxuICAgIHJldHVybiBuZXR3b3JrRmVlU3RydWN0dXJlLmZpeGVkRmVlXG4gIH1cblxuICAvKipcbiAgICogR2V0IGZlZSBlc3RpbWF0ZSBmb3IgZGlzcGxheSBwdXJwb3Nlc1xuICAgKi9cbiAgZ2V0RmVlRXN0aW1hdGUoXG4gICAgYW1vdW50OiBNb25leSxcbiAgICB0cmFuc2FjdGlvblR5cGU6IFRyYW5zYWN0aW9uVHlwZSxcbiAgICB1c2VyPzogVXNlclxuICApOiB7IGVzdGltYXRlZEZlZTogTW9uZXk7IGZlZVBlcmNlbnRhZ2U6IG51bWJlciB9IHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmNhbGN1bGF0ZUZlZShhbW91bnQsIHRyYW5zYWN0aW9uVHlwZSwgdXNlcilcbiAgICBjb25zdCBmZWVQZXJjZW50YWdlID0gKHJlc3VsdC50b3RhbEZlZS5hbW91bnQgLyBhbW91bnQuYW1vdW50KSAqIDEwMFxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGVzdGltYXRlZEZlZTogcmVzdWx0LnRvdGFsRmVlLFxuICAgICAgZmVlUGVyY2VudGFnZVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0cmFuc2FjdGlvbiBhbW91bnQgbWVldHMgbWluaW11bSBmZWUgcmVxdWlyZW1lbnRzXG4gICAqL1xuICBtZWV0c01pbmltdW1GZWVSZXF1aXJlbWVudChcbiAgICBhbW91bnQ6IE1vbmV5LFxuICAgIHRyYW5zYWN0aW9uVHlwZTogVHJhbnNhY3Rpb25UeXBlXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGZlZVN0cnVjdHVyZSA9IHRoaXMuZ2V0RmVlU3RydWN0dXJlKHRyYW5zYWN0aW9uVHlwZSwgYW1vdW50LmN1cnJlbmN5KVxuICAgIGlmICghZmVlU3RydWN0dXJlKSByZXR1cm4gZmFsc2VcblxuICAgIGNvbnN0IGNhbGN1bGF0ZWRGZWUgPSB0aGlzLmNhbGN1bGF0ZUZlZShhbW91bnQsIHRyYW5zYWN0aW9uVHlwZSlcbiAgICByZXR1cm4gY2FsY3VsYXRlZEZlZS50b3RhbEZlZS5pc0dyZWF0ZXJUaGFuT3JFcXVhbChmZWVTdHJ1Y3R1cmUubWluaW11bUZlZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZmVlIHN0cnVjdHVyZSBmb3IgdHJhbnNhY3Rpb24gdHlwZSBhbmQgY3VycmVuY3lcbiAgICovXG4gIHByaXZhdGUgZ2V0RmVlU3RydWN0dXJlKFxuICAgIHRyYW5zYWN0aW9uVHlwZTogVHJhbnNhY3Rpb25UeXBlLFxuICAgIGN1cnJlbmN5OiBDdXJyZW5jeVxuICApOiBGZWVTdHJ1Y3R1cmUgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGtleSA9IGAke3RyYW5zYWN0aW9uVHlwZX0tJHtjdXJyZW5jeS5jb2RlfWBcbiAgICByZXR1cm4gdGhpcy5mZWVTdHJ1Y3R1cmVzLmdldChrZXkpXG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgdXNlci1zcGVjaWZpYyBmZWUgZGlzY291bnRzXG4gICAqL1xuICBwcml2YXRlIGFwcGx5VXNlckRpc2NvdW50cyhcbiAgICBmZWVTdHJ1Y3R1cmU6IEZlZVN0cnVjdHVyZSxcbiAgICB1c2VyPzogVXNlclxuICApOiBGZWVTdHJ1Y3R1cmUge1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIGZlZVN0cnVjdHVyZVxuICAgIH1cblxuICAgIC8vIEtZQy1hcHByb3ZlZCB1c2VycyBnZXQgcmVkdWNlZCBmZWVzXG4gICAgaWYgKHVzZXIuaXNLeWNBcHByb3ZlZCgpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5mZWVTdHJ1Y3R1cmUsXG4gICAgICAgIHBlcmNlbnRhZ2VGZWU6IGZlZVN0cnVjdHVyZS5wZXJjZW50YWdlRmVlICogMC44LCAvLyAyMCUgZGlzY291bnRcbiAgICAgICAgZml4ZWRGZWU6IGZlZVN0cnVjdHVyZS5maXhlZEZlZS5tdWx0aXBseSgwLjgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZlZVN0cnVjdHVyZVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBuZXR3b3JrIGZlZSBzdHJ1Y3R1cmUgZm9yIGV4dGVybmFsIHRyYW5zYWN0aW9uc1xuICAgKi9cbiAgcHJpdmF0ZSBnZXROZXR3b3JrRmVlU3RydWN0dXJlKGN1cnJlbmN5OiBDdXJyZW5jeSk6IEZlZVN0cnVjdHVyZSB7XG4gICAgY29uc3Qga2V5ID0gYG5ldHdvcmstJHtjdXJyZW5jeS5jb2RlfWBcbiAgICBjb25zdCBzdHJ1Y3R1cmUgPSB0aGlzLmZlZVN0cnVjdHVyZXMuZ2V0KGtleSlcbiAgICBcbiAgICBpZiAoIXN0cnVjdHVyZSkge1xuICAgICAgLy8gRGVmYXVsdCBuZXR3b3JrIGZlZVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNhY3Rpb25UeXBlOiAnc2VuZCcsXG4gICAgICAgIGN1cnJlbmN5LFxuICAgICAgICBmaXhlZEZlZTogTW9uZXkuZnJvbU51bWJlcihjdXJyZW5jeS5pc0VVUigpID8gMiA6IDI0MDAsIGN1cnJlbmN5KSwgLy8gMiBFVVIgb3IgMjQwMCBBT0FcbiAgICAgICAgcGVyY2VudGFnZUZlZTogMCxcbiAgICAgICAgbWluaW11bUZlZTogTW9uZXkuZnJvbU51bWJlcihjdXJyZW5jeS5pc0VVUigpID8gMSA6IDEyMDAsIGN1cnJlbmN5KSxcbiAgICAgICAgbWF4aW11bUZlZTogTW9uZXkuZnJvbU51bWJlcihjdXJyZW5jeS5pc0VVUigpID8gMTAgOiAxMjAwMCwgY3VycmVuY3kpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cnVjdHVyZVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgZGVmYXVsdCBmZWUgc3RydWN0dXJlc1xuICAgKi9cbiAgcHJpdmF0ZSBpbml0aWFsaXplRGVmYXVsdEZlZVN0cnVjdHVyZXMoKTogdm9pZCB7XG4gICAgY29uc3QgZXVyQ3VycmVuY3kgPSBDdXJyZW5jeS5FVVIoKVxuICAgIGNvbnN0IGFvYUN1cnJlbmN5ID0gQ3VycmVuY3kuQU9BKClcblxuICAgIC8vIFNlbmQgdHJhbnNhY3Rpb24gZmVlc1xuICAgIHRoaXMuZmVlU3RydWN0dXJlcy5zZXQoJ3NlbmQtRVVSJywge1xuICAgICAgdHJhbnNhY3Rpb25UeXBlOiAnc2VuZCcsXG4gICAgICBjdXJyZW5jeTogZXVyQ3VycmVuY3ksXG4gICAgICBmaXhlZEZlZTogTW9uZXkuZnJvbU51bWJlcigwLjUsIGV1ckN1cnJlbmN5KSxcbiAgICAgIHBlcmNlbnRhZ2VGZWU6IDAuMDE1LCAvLyAxLjUlXG4gICAgICBtaW5pbXVtRmVlOiBNb25leS5mcm9tTnVtYmVyKDAuNSwgZXVyQ3VycmVuY3kpLFxuICAgICAgbWF4aW11bUZlZTogTW9uZXkuZnJvbU51bWJlcigyNSwgZXVyQ3VycmVuY3kpXG4gICAgfSlcblxuICAgIHRoaXMuZmVlU3RydWN0dXJlcy5zZXQoJ3NlbmQtQU9BJywge1xuICAgICAgdHJhbnNhY3Rpb25UeXBlOiAnc2VuZCcsXG4gICAgICBjdXJyZW5jeTogYW9hQ3VycmVuY3ksXG4gICAgICBmaXhlZEZlZTogTW9uZXkuZnJvbU51bWJlcig2MDAsIGFvYUN1cnJlbmN5KSxcbiAgICAgIHBlcmNlbnRhZ2VGZWU6IDAuMDE1LCAvLyAxLjUlXG4gICAgICBtaW5pbXVtRmVlOiBNb25leS5mcm9tTnVtYmVyKDYwMCwgYW9hQ3VycmVuY3kpLFxuICAgICAgbWF4aW11bUZlZTogTW9uZXkuZnJvbU51bWJlcigzMDAwMCwgYW9hQ3VycmVuY3kpXG4gICAgfSlcblxuICAgIC8vIEJ1eSB0cmFuc2FjdGlvbiBmZWVzIChidXlpbmcgQU9BIHdpdGggRVVSKVxuICAgIHRoaXMuZmVlU3RydWN0dXJlcy5zZXQoJ2J1eS1FVVInLCB7XG4gICAgICB0cmFuc2FjdGlvblR5cGU6ICdidXknLFxuICAgICAgY3VycmVuY3k6IGV1ckN1cnJlbmN5LFxuICAgICAgZml4ZWRGZWU6IE1vbmV5LmZyb21OdW1iZXIoMSwgZXVyQ3VycmVuY3kpLFxuICAgICAgcGVyY2VudGFnZUZlZTogMC4wMiwgLy8gMiVcbiAgICAgIG1pbmltdW1GZWU6IE1vbmV5LmZyb21OdW1iZXIoMSwgZXVyQ3VycmVuY3kpLFxuICAgICAgbWF4aW11bUZlZTogTW9uZXkuZnJvbU51bWJlcig1MCwgZXVyQ3VycmVuY3kpXG4gICAgfSlcblxuICAgIC8vIFNlbGwgdHJhbnNhY3Rpb24gZmVlcyAoc2VsbGluZyBBT0EgZm9yIEVVUilcbiAgICB0aGlzLmZlZVN0cnVjdHVyZXMuc2V0KCdzZWxsLUFPQScsIHtcbiAgICAgIHRyYW5zYWN0aW9uVHlwZTogJ3NlbGwnLFxuICAgICAgY3VycmVuY3k6IGFvYUN1cnJlbmN5LFxuICAgICAgZml4ZWRGZWU6IE1vbmV5LmZyb21OdW1iZXIoMTIwMCwgYW9hQ3VycmVuY3kpLFxuICAgICAgcGVyY2VudGFnZUZlZTogMC4wMiwgLy8gMiVcbiAgICAgIG1pbmltdW1GZWU6IE1vbmV5LmZyb21OdW1iZXIoMTIwMCwgYW9hQ3VycmVuY3kpLFxuICAgICAgbWF4aW11bUZlZTogTW9uZXkuZnJvbU51bWJlcig2MDAwMCwgYW9hQ3VycmVuY3kpXG4gICAgfSlcblxuICAgIC8vIERlcG9zaXQgZmVlcyAodXN1YWxseSBmcmVlIG9yIG1pbmltYWwpXG4gICAgdGhpcy5mZWVTdHJ1Y3R1cmVzLnNldCgnZGVwb3NpdC1FVVInLCB7XG4gICAgICB0cmFuc2FjdGlvblR5cGU6ICdkZXBvc2l0JyxcbiAgICAgIGN1cnJlbmN5OiBldXJDdXJyZW5jeSxcbiAgICAgIGZpeGVkRmVlOiBNb25leS56ZXJvKGV1ckN1cnJlbmN5KSxcbiAgICAgIHBlcmNlbnRhZ2VGZWU6IDAsXG4gICAgICBtaW5pbXVtRmVlOiBNb25leS56ZXJvKGV1ckN1cnJlbmN5KSxcbiAgICAgIG1heGltdW1GZWU6IE1vbmV5LmZyb21OdW1iZXIoNSwgZXVyQ3VycmVuY3kpXG4gICAgfSlcblxuICAgIHRoaXMuZmVlU3RydWN0dXJlcy5zZXQoJ2RlcG9zaXQtQU9BJywge1xuICAgICAgdHJhbnNhY3Rpb25UeXBlOiAnZGVwb3NpdCcsXG4gICAgICBjdXJyZW5jeTogYW9hQ3VycmVuY3ksXG4gICAgICBmaXhlZEZlZTogTW9uZXkuemVybyhhb2FDdXJyZW5jeSksXG4gICAgICBwZXJjZW50YWdlRmVlOiAwLFxuICAgICAgbWluaW11bUZlZTogTW9uZXkuemVybyhhb2FDdXJyZW5jeSksXG4gICAgICBtYXhpbXVtRmVlOiBNb25leS5mcm9tTnVtYmVyKDYwMDAsIGFvYUN1cnJlbmN5KVxuICAgIH0pXG5cbiAgICAvLyBXaXRoZHJhdyBmZWVzXG4gICAgdGhpcy5mZWVTdHJ1Y3R1cmVzLnNldCgnd2l0aGRyYXctRVVSJywge1xuICAgICAgdHJhbnNhY3Rpb25UeXBlOiAnd2l0aGRyYXcnLFxuICAgICAgY3VycmVuY3k6IGV1ckN1cnJlbmN5LFxuICAgICAgZml4ZWRGZWU6IE1vbmV5LmZyb21OdW1iZXIoMiwgZXVyQ3VycmVuY3kpLFxuICAgICAgcGVyY2VudGFnZUZlZTogMC4wMDUsIC8vIDAuNSVcbiAgICAgIG1pbmltdW1GZWU6IE1vbmV5LmZyb21OdW1iZXIoMiwgZXVyQ3VycmVuY3kpLFxuICAgICAgbWF4aW11bUZlZTogTW9uZXkuZnJvbU51bWJlcigyMCwgZXVyQ3VycmVuY3kpXG4gICAgfSlcblxuICAgIHRoaXMuZmVlU3RydWN0dXJlcy5zZXQoJ3dpdGhkcmF3LUFPQScsIHtcbiAgICAgIHRyYW5zYWN0aW9uVHlwZTogJ3dpdGhkcmF3JyxcbiAgICAgIGN1cnJlbmN5OiBhb2FDdXJyZW5jeSxcbiAgICAgIGZpeGVkRmVlOiBNb25leS5mcm9tTnVtYmVyKDI0MDAsIGFvYUN1cnJlbmN5KSxcbiAgICAgIHBlcmNlbnRhZ2VGZWU6IDAuMDA1LCAvLyAwLjUlXG4gICAgICBtaW5pbXVtRmVlOiBNb25leS5mcm9tTnVtYmVyKDI0MDAsIGFvYUN1cnJlbmN5KSxcbiAgICAgIG1heGltdW1GZWU6IE1vbmV5LmZyb21OdW1iZXIoMjQwMDAsIGFvYUN1cnJlbmN5KVxuICAgIH0pXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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